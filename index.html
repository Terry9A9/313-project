<!DOCTYPE html>
<html lang="en">

<head>
  <title>Search For School</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="white" />
  <script src="https://code.jquery.com/jquery-3.3.1.js" type="text/javascript" language="javascript"></script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css">

  <link rel="manifest" href="manifest.json">
  <link rel="canonical" href="https://terry9a9.github.io/313-project/" />
  <link rel="import" href="/schoolData11.json" />
  <script src="service-worker.js"></script>
  <script src="app.js"></script>
  <link rel="stylesheet" href="style.css">

  <!-- MAP -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin="" />
  <!-- Make sure you put this AFTER Leaflet's CSS -->
  <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
    integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
    crossorigin=""></script>

  <!-- dataTable -->
  <link rel="stylesheet" type="text/css" href="js/datatables.min.css" />
  <script type="text/javascript" src="js/datatables.min.js"></script>

  <link rel="apple-touch-icon" href="ios/192.png">
</head>

<body>

  <!-- Modal Fullscreen sm -->
  <div class="modal modal-fullscreen-sm" id="modal-fullscreen-sm" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Map</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" id="nearSchoolbtn" onclick="fetchNearSchoolMap()"></button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>


  <div id="datatable">
    <div class="mobile-filters">
      <div id="mobile-filter1" class="filter">
        分區:
      </div>
      <div id="mobile-filter2" class="filter">
        資助種類:
      </div>
      <div id="mobile-filter3" class="filter">
        就讀性別:
      </div>
      <div id="mobile-filter4" class="filter">
        類型:
      </div>
      <div id="mobile-filter6" class="filter">
        授課時間:
      </div>
      <div id="mobile-filter7" class="filter">
        宗教:
      </div>
    </div>
    <table class="table table-striped table-hover table-scroll" id="originalTable">
      <thead>
        <tr>
          <th data-priority="1">名稱</th>
          <th>分區</th>
          <th>資助種類</th>
          <th>就讀性別</th>
          <th data-priority="1">類型</th>
          <th>地址</th>
          <th data-priority="2">授課時間</th>
          <th>宗教</th>
          <th>URL</th>
          <th></th>
        </tr>
      </thead>
      <tfoot>
        <tr>
          <th>名稱</th>
          <th>分區</th>
          <th>資助種類</th>
          <th>就讀性別</th>
          <th>類型</th>
          <th>地址</th>
          <th>授課時間</th>
          <th>宗教</th>
          <th>URL</th>
          <th></th>
          <th></th>
        </tr>
      </tfoot>
    </table>
    <button type="button" class="btn btn-danger btn-floating btn-lg cd-top--fade-out" id="btn-back-to-top"
      onclick="backToTop()">
      <i class="fas fa-arrow-up"></i>
    </button>
  </div>

</body>
<script>
  let lat_long;
</script>
<script>
  if ('serviceWorker' in navigator) {
    // Wait for the 'load' event to not block other work
    window.addEventListener('load', async () => {
      // Try to register the service worker.
      try {
        //local test
        const reg = await navigator.serviceWorker.register('service-worker.js');

        //deploy
        //const reg = await navigator.serviceWorker.register('/313-project/service-worker.js', { scope: '/313-project/' });
        console.log('[Service worker] registered', reg);
      } catch (err) {
        console.log('[Service worker] registration failed: ', err);
      }
    });
  }
</script>

</html>